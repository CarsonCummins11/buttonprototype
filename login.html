<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Button</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
	<script src="index.js"></script>
  <script>
    window.onload = () => {
      em_el =document.querySelector('#email')
      em_el.focus()
      form_el = document.querySelector('#email-form')
      form_el.onsubmit = (e) => {
        e.preventDefault()
        email = em_el.value
        if (email.length == 0) {
          alert('Please enter an email address')
          return
        }
        send_login_link(email)
        .then(response => response.json())
        .then(data => {
          console.log(data)
          window.location.href="home.html?id=" + data.id
        });
        alert('A login link has been sent to ' + email)
      }
    }

  </script>
    <div class="navbar-container">
        <div class="navbar">
            <a href="index.html" style="display: flex; align-items: center; justify-content: center;">
              <img src="assets/logo.svg" alt="button" class="logo">
            </a>
            <div class="navbar-right">
                <a class="button-filled" href="#">Sign up</a>
                <a class="button-hollow" href="login.html">Log in</a>
            </div>
        </div>
    </div>
    <div class="body-content">
        <div style="display: flex; gap: 1rem; flex-direction: column; padding-top: 2rem;">
          <h2 style="color: var(--darker-grey); margin: 0; padding: 0; text-align: center;">Let's get started.</h2>
          <form class="labeled-input" style="margin-top: 2rem;" id="email-form">
            <input type="text" placeholder="hi@getbutton.io" name="email" id="email">
            <p style="margin-top: 0.3rem; font-size: 0.7em;">Email address</p>
            <input type="submit" value="Send login link" style="min-width: 15rem; font-size: 1rem; margin-top: 1rem;" class="button-filled">
          </form>
        </div>
    </div>
  </body>
</html>